<html>
<head>
	<title>Unit Tests: responder.tagui.js</title>

	<script src="../jquery/jquery-1.2.6.js" type="text/javascript"></script>
	<link href="http://dev.jquery.com/view/trunk/qunit/testsuite.css" rel="stylesheet" type="text/css" media="screen">
	<script src="http://dev.jquery.com/view/trunk/qunit/testrunner.js" type="text/javascript"></script>

	<script src="../api.js" type="text/javascript"></script>
	<script src="../jquery/jquery.slashdot.js" type="text/javascript"></script>
	<script src="../responder.tagui.js" type="text/javascript"></script>

<script type="text/javascript">
(function($){

$(function(){

module('tag_responder');

test('general', function(){

	ok(TagUI, 'TagUI namespace exists');
	ok(TagUI.tag_responder, '...and has the tag_responder component');
	ok($.isFunction(TagUI.tag_responder), '...which is a function');

	var $cat = $('#cat'), cat = $cat[0];

	TagUI.tag_responder(cat, function( signals, data, options ){
		$('#output').text((signals=='badkitty') ? 'meow' : 'purr');
	}, 'badkitty goodkitty');

	ok(cat.tag_responder && cat.tag_responder.handle_signal, 'constructor installs handler');
	cat.tag_responder.handle('goodkitty');
	ok($('#output').is(':contains("purr")'), 'handler functions');

	// simulate server's way of doing it
	$('#main .ready[signal*=badkitty]').tag_responder__handle('badkitty');
	ok($('#output').is(':contains("meow")'), 'handler functions when called through selection');
});



test('regressions', function(){
});





});

})(jQuery);
</script>

</head>
<body>
	<h1>Unit Tests: responder.tagui.js</h1>
	<h2 id="banner"></h2>
	<h2 id="userAgent"></h2>
	<ol id="tests"></ol>
	<div id="main">
		<div id='fish' class='fish'></div>
		<div id='dog' class='dog'></div>
		<div id='cat' class='cat'></div>
		<div id='car'></div>
		<div id='output'></div>
	</div>
</body>
</html>
